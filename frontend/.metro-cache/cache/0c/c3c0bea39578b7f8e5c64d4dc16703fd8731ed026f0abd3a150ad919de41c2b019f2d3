{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":69,"index":96}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n  const api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Get token from AsyncStorage directly to avoid circular dependency\n  const getToken = async () => {\n    try {\n      const authData = await AsyncStorage.default.getItem('auth-storage');\n      if (authData) {\n        const parsed = JSON.parse(authData);\n        return parsed.state?.token || null;\n      }\n      return null;\n    } catch {\n      return null;\n    }\n  };\n\n  // Add auth token to requests\n  api.interceptors.request.use(async config => {\n    const token = await getToken();\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }, error => Promise.reject(error));\n\n  // Handle auth errors\n  api.interceptors.response.use(response => response, async error => {\n    if (error.response?.status === 401) {\n      // Clear auth storage on 401\n      await AsyncStorage.default.removeItem('auth-storage');\n    }\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":63,"map":[[12,2,51,0,"Object"],[12,8,51,0],[12,9,51,0,"defineProperty"],[12,23,51,0],[12,24,51,0,"exports"],[12,31,51,0],[13,4,51,0,"enumerable"],[13,14,51,0],[14,4,51,0,"get"],[14,7,51,0],[14,18,51,0,"get"],[14,19,51,0],[15,6,51,0],[15,13,51,0,"_default"],[15,21,51,0],[16,4,51,0],[17,2,51,0],[18,2,51,19],[18,6,51,19,"_expoVirtualEnv"],[18,21,51,19],[18,24,51,19,"require"],[18,31,51,19],[18,32,51,19,"_dependencyMap"],[18,46,51,19],[19,2,1,0],[19,6,1,0,"_axios"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,1,0],[20,6,1,0,"axios"],[20,11,1,0],[20,14,1,0,"_interopDefault"],[20,29,1,0],[20,30,1,0,"_axios"],[20,36,1,0],[21,2,2,0],[21,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,2,0],[21,45,2,0,"require"],[21,52,2,0],[21,53,2,0,"_dependencyMap"],[21,67,2,0],[22,2,2,0],[22,6,2,0,"AsyncStorage"],[22,18,2,0],[22,21,2,0,"_interopDefault"],[22,36,2,0],[22,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,2,0],[23,2,4,0],[23,8,4,6,"API_URL"],[23,15,4,13],[23,18,4,16,"_expoVirtualEnv"],[23,33,4,16],[23,34,4,16,"env"],[23,37,4,16],[23,38,4,16,"EXPO_PUBLIC_BACKEND_URL"],[23,61,4,16],[23,65,4,55],[23,67,4,57],[24,2,6,0],[24,8,6,6,"api"],[24,11,6,9],[24,14,6,12,"axios"],[24,19,6,17],[24,20,6,17,"default"],[24,27,6,17],[24,28,6,18,"create"],[24,34,6,24],[24,35,6,25],[25,4,7,2,"baseURL"],[25,11,7,9],[25,13,7,11],[25,16,7,14,"API_URL"],[25,23,7,21],[25,29,7,27],[26,4,8,2,"headers"],[26,11,8,9],[26,13,8,11],[27,6,9,4],[27,20,9,18],[27,22,9,20],[28,4,10,2],[29,2,11,0],[29,3,11,1],[29,4,11,2],[31,2,13,0],[32,2,14,0],[32,8,14,6,"getToken"],[32,16,14,14],[32,19,14,17],[32,25,14,17,"getToken"],[32,26,14,17],[32,31,14,29],[33,4,15,2],[33,8,15,6],[34,6,16,4],[34,12,16,10,"authData"],[34,20,16,18],[34,23,16,21],[34,29,16,27,"AsyncStorage"],[34,41,16,39],[34,42,16,39,"default"],[34,49,16,39],[34,50,16,40,"getItem"],[34,57,16,47],[34,58,16,48],[34,72,16,62],[34,73,16,63],[35,6,17,4],[35,10,17,8,"authData"],[35,18,17,16],[35,20,17,18],[36,8,18,6],[36,14,18,12,"parsed"],[36,20,18,18],[36,23,18,21,"JSON"],[36,27,18,25],[36,28,18,26,"parse"],[36,33,18,31],[36,34,18,32,"authData"],[36,42,18,40],[36,43,18,41],[37,8,19,6],[37,15,19,13,"parsed"],[37,21,19,19],[37,22,19,20,"state"],[37,27,19,25],[37,29,19,27,"token"],[37,34,19,32],[37,38,19,36],[37,42,19,40],[38,6,20,4],[39,6,21,4],[39,13,21,11],[39,17,21,15],[40,4,22,2],[40,5,22,3],[40,6,22,4],[40,12,22,10],[41,6,23,4],[41,13,23,11],[41,17,23,15],[42,4,24,2],[43,2,25,0],[43,3,25,1],[45,2,27,0],[46,2,28,0,"api"],[46,5,28,3],[46,6,28,4,"interceptors"],[46,18,28,16],[46,19,28,17,"request"],[46,26,28,24],[46,27,28,25,"use"],[46,30,28,28],[46,31,29,2],[46,37,29,9,"config"],[46,43,29,15],[46,47,29,20],[47,4,30,4],[47,10,30,10,"token"],[47,15,30,15],[47,18,30,18],[47,24,30,24,"getToken"],[47,32,30,32],[47,33,30,33],[47,34,30,34],[48,4,31,4],[48,8,31,8,"token"],[48,13,31,13],[48,15,31,15],[49,6,32,6,"config"],[49,12,32,12],[49,13,32,13,"headers"],[49,20,32,20],[49,21,32,21,"Authorization"],[49,34,32,34],[49,37,32,37],[49,47,32,47,"token"],[49,52,32,52],[49,54,32,54],[50,4,33,4],[51,4,34,4],[51,11,34,11,"config"],[51,17,34,17],[52,2,35,2],[52,3,35,3],[52,5,36,3,"error"],[52,10,36,8],[52,14,36,13,"Promise"],[52,21,36,20],[52,22,36,21,"reject"],[52,28,36,27],[52,29,36,28,"error"],[52,34,36,33],[52,35,37,0],[52,36,37,1],[54,2,39,0],[55,2,40,0,"api"],[55,5,40,3],[55,6,40,4,"interceptors"],[55,18,40,16],[55,19,40,17,"response"],[55,27,40,25],[55,28,40,26,"use"],[55,31,40,29],[55,32,41,3,"response"],[55,40,41,11],[55,44,41,16,"response"],[55,52,41,24],[55,54,42,2],[55,60,42,9,"error"],[55,65,42,14],[55,69,42,19],[56,4,43,4],[56,8,43,8,"error"],[56,13,43,13],[56,14,43,14,"response"],[56,22,43,22],[56,24,43,24,"status"],[56,30,43,30],[56,35,43,35],[56,38,43,38],[56,40,43,40],[57,6,44,6],[58,6,45,6],[58,12,45,12,"AsyncStorage"],[58,24,45,24],[58,25,45,24,"default"],[58,32,45,24],[58,33,45,25,"removeItem"],[58,43,45,35],[58,44,45,36],[58,58,45,50],[58,59,45,51],[59,4,46,4],[60,4,47,4],[60,11,47,11,"Promise"],[60,18,47,18],[60,19,47,19,"reject"],[60,25,47,25],[60,26,47,26,"error"],[60,31,47,31],[60,32,47,32],[61,2,48,2],[61,3,49,0],[61,4,49,1],[62,2,51,0],[62,6,51,0,"_default"],[62,14,51,0],[62,17,51,15,"api"],[62,20,51,18],[63,0,51,19],[63,3]],"functionMap":{"names":["<global>","getToken","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;iBCa;CDW;EEI;GFM;EGC,gCH;EIK,sBJ;EKC;GLM"},"hasCjsExports":false},"type":"js/module"}]}